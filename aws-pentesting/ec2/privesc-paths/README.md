# Privesc-Paths

Caminos de explotación:

{% content-ref url="ec2_ssrf.md" %}
[ec2\_ssrf.md](ec2\_ssrf.md)
{% endcontent-ref %}

{% content-ref url="createec2whithexistingip.md" %}
[createec2whithexistingip.md](createec2whithexistingip.md)
{% endcontent-ref %}

{% content-ref url="passexistingroletonewgluedevendpoint.md" %}
[passexistingroletonewgluedevendpoint.md](passexistingroletonewgluedevendpoint.md)
{% endcontent-ref %}

{% embed url="https://www.fugue.co/blog/a-technical-analysis-of-the-capital-one-cloud-misconfiguration-breach" %}
Capital One - Over-privileged EC2 Role
{% endembed %}



## CloudGoat

CloudGoat es la herramienta de implementación de AWS "Vulnerable by Design" de Rhino Security Labs. Le permite perfeccionar sus habilidades de ciberseguridad en la nube al crear y completar varios escenarios de estilo "capturar la bandera". Cada escenario se compone de recursos de AWS organizados juntos para crear una experiencia de aprendizaje estructurada.

{% hint style="warning" %}
CloudGoat crea recursos de AWS vulnerables intencionalmente en su cuenta. NO implemente CloudGoat en un entorno de producción ni junto con recursos confidenciales de AWS.
{% endhint %}

{% hint style="warning" %}
CloudGoat solo puede administrar los recursos que crea. Si crea algún recurso usted mismo en el transcurso de un escenario, debe eliminarlo manualmente antes de ejecutar el comando de destrucción.
{% endhint %}

{% hint style="warning" %}
CloudGoar Genera recursos en AWD que pueden generar un costo que van desde los 10 Dolares (un solo uso de un laboratorio) en adelante (varios usos).


{% endhint %}

### Requisitos

* Linux or MacOS. Windows is not officially supported.
* Python3.6+ is required.
* Terraform >= 0.14 [installed and in your $PATH](https://learn.hashicorp.com/terraform/getting-started/install.html).
* The AWS CLI [installed and in your $PATH](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html), and an AWS account with sufficient privileges to create and destroy resources.
* [jq](https://stedolan.github.io/jq/)

### Instalación

```bash
git clone https://github.com/RhinoSecurityLabs/cloudgoat.git
cd cloudgoat
pip3 install -r ./requirements.txt
chmod +x cloudgoat.py
```

{% code overflow="wrap" %}
```bash
## Configura el perfil que se va autilizar, se recomienda defaul y que sea administrador
./cloudgoat.py config profile

## Configura la IP publica del atacante
./cloudgoat.py config whitelist --auto
```
{% endcode %}

### Ejecutar Escenario

```
./cloudgoat.py create <Escenario>
```

### Borrar escenarios

```
./cloudgoat.py destroi {<Escenario> | all }
```

## Referencias

{% embed url="https://github.com/RhinoSecurityLabs/cloudgoat#usage-guide" %}

