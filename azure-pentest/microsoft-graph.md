# Microsoft Graph

## ¿Qué es?

<figure><img src="../.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

Microsoft Graph es un servicio de Azure Cloud que proporciona <mark style="color:green;">**acceso a los datos**</mark> y las API de <mark style="color:green;">**Microsoft 365 y Azure Active Directory**</mark>**.** Permite a los desarrolladores construir aplicaciones que pueden interactuar con los datos y recursos de Microsoft 365, como calendarios, contactos, correo electrónico, archivos y más, y también proporciona acceso a la información de usuarios y grupos en Azure Active Directory.

Microsoft Graph es una API RESTful que puede ser utilizada en una variedad de plataformas y lenguajes de programación, incluyendo aplicaciones web, móviles y de escritorio. Los desarrolladores pueden utilizar Microsoft Graph para acceder a los datos de Microsoft 365 y Azure Active Directory y crear aplicaciones que se integren con otros servicios en la nube de Microsoft, como Azure Functions, Azure Logic Apps y Azure App Service.

### ¿Cómo atacarlo?

¿Que pasa cuando un desarrollados no conoce este tipo de tecnologías? dejará normalmente, credenciales por defecto. Al ser una API de Microsoft 365 permite a los atacantes obtener mucha información de una compañía, muchas veces dejando rastros mínimos o díficiles de rastrear por los administradores de nube.



Microsoft Graph requiere que se establezcan permisos desde Azure AD o un sistema similar a RBAC que pueda proporcionar los roles apropiados. Actualmente hay cuatro restricciones en el modelo de permisos de Microsoft Graph:&#x20;

* <mark style="color:green;">**All**</mark>: Se permiten todas las operaciones contra el servicio.&#x20;
* <mark style="color:green;">**Shared**</mark>: Permite ejecutar operaciones contra un servicio y permite acceder a operaciones contra cualquiera de los recursos compartidos para ese usuario. Por ejemplo, si otros usuarios han compartido eventos de calendario con ese usuario, también podrá leer esos calendarios.
* <mark style="color:green;">**AppFolder**</mark>: Permite lectura y escritura sobre los archivos de OneDrive (Solo soportado si se tiene una cuenta de Microsoft).&#x20;
* <mark style="color:green;">**NoConstraints**</mark>: Sin restricciones, solo obtiene acceso a los datos y objetos del usuario que inició sesión.&#x20;

Por ejemplo con modo lectura se puede leer lo siguiente, dependiendo de lo que el usuario tenga se pueden leer notas (donde pueda existir contraseñas escritas), calendarios, contactos.

<figure><img src="../.gitbook/assets/image (3).png" alt=""><figcaption></figcaption></figure>



## Referencias

{% embed url="https://learn.microsoft.com/es-es/graph/overview" %}

{% embed url="https://learn.microsoft.com/en-us/graph/permissions-reference" %}
