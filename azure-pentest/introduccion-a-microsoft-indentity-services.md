# Introducción a Microsoft Indentity Services

## Microsoft Active Directory (Microsoft AD)

<figure><img src="../.gitbook/assets/image (7).png" alt=""><figcaption></figcaption></figure>

## Microsoft Active Directory Federated Services (AD FS)

Fue un servicio que ocupó Microsoft para hacer autenticaciones a través de internet con ciertos roles con servicios federados con el protoc[^1]olo SAML

<figure><img src="../.gitbook/assets/image (4) (2).png" alt=""><figcaption></figcaption></figure>

La principal característica es que debe estar detrás de un DMZ  o un Firewall

Normalmente Microsoft Active Directory y Active Directory Federated Services están on premise

## Azure Active Directory (Azure AD) IAM

<figure><img src="../.gitbook/assets/image (2) (2).png" alt=""><figcaption></figcaption></figure>

Hablando de Azure Active Directory son servicios que se desplieguen y se parece a un Microsoft Active directory, pero la autenticación se hace a través de la nube de azure.

## Roles

### Azure Active Directory (RBAC Roles)

* Azure AD tiene al rededor de 70 Roles.
* <mark style="color:green;">**Owner**</mark>: Acceso completo a todos los recursos, este es también el conjunto de permisos que se asignan a un administrador de servicio y coadministrador heredado.
* <mark style="color:green;">**Contributor**</mark>: Crea y administra varios tipos de recursos, pero este rol no puede pasar el acceso a otro usuario.
* <mark style="color:green;">**Reader**</mark>: Ve los recursos de Azure, solo en modo lectura.
* <mark style="color:green;">**Access Administrator**</mark>: Administra el acceso a Azure.

### Roles integrados más importantes

* <mark style="color:green;">**Global Administrator**</mark>: Este rol se asigna al usuario que se registró originalmente para el Azure Tenant. Es la cuenta de mayor privilegio en una organización.
* <mark style="color:green;">**User Administrator**</mark>: Este rol puede agregar y eliminar usuarios. También puede cambiar contraseñas.
* <mark style="color:green;">**Billing Administrator**</mark>: Este rol puede agregar nuevos servicios y suscripciones, pero no puede agregar ni eliminar roles.

{% embed url="https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles" %}



## Protocolos de y diferencias en protocolos de comunicación

| Tipo de Protocolo                                     | Microsoft On Prem AD                  | Microsoft Azure AD                       |
| ----------------------------------------------------- | ------------------------------------- | ---------------------------------------- |
| Protocolos de Comunicación (Communication Protocol)   | LDAP / Kerberos                       | HTTPS                                    |
| Protocolos de Autenticación (Authentication Protocol) | Microsoft Kerberos and/or NTLMv2      | OAuth, SAML                              |
| Estructura Global (Global Structure)                  | Domains and Forests                   | Directories and Subscriptions            |
| Estructura Organizacional (Organizational Structure)  | Tree and Folder Based                 | No Structure                             |
| Control de acceso (Access Control)                    | “File Based”, Granular Access Control | Function Based Access Controls and Roles |









[^1]: 
